{% load static i18n %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CareerVision</title>
  <link rel="stylesheet" href="{% static 'core/styles.css' %}">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@500;600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="{% static 'images/favicon.png' %}">
</head>
<body class="cv-body">
  <div class="cv-page-wrapper">

    <!-- GLOBAL HEADER / NAV -->
    <div class="cv-header">
      <div class="cv-logo">CareerVision</div>
      <div class="cv-nav">

        <!-- LANGUAGE SWITCHER -->
        <div class="cv-lang-switch">
          <form action="{% url 'set_language' %}" method="post">
            {% csrf_token %}
            {% get_current_language as LANGUAGE_CODE %}
            <input type="hidden" name="next" value="{{ request.path }}">

            <select name="language" class="cv-lang-select" onchange="this.form.submit()">
              <option value="en" {% if LANGUAGE_CODE|slice:":2" == "en" %}selected{% endif %}>⇃ EN</option>
              <option value="de" {% if LANGUAGE_CODE|slice:":2" == "de" %}selected{% endif %}>⇃ DE</option>
              <option value="ru" {% if LANGUAGE_CODE|slice:":2" == "ru" %}selected{% endif %}>⇃ RU</option>
              <option value="lv" {% if LANGUAGE_CODE|slice:":2" == "lv" %}selected{% endif %}>⇃ LV</option>
              <option value="pl" {% if LANGUAGE_CODE|slice:":2" == "pl" %}selected{% endif %}>⇃ PL</option>
              <option value="kk" {% if LANGUAGE_CODE|slice:":2" == "kk" %}selected{% endif %}>⇃ KK</option>
            </select>
          </form>
        </div>

        <a href="{% url 'landing' %}" class="cv-nav-pill">{% trans "Home" %}</a>
        <a href="{% url 'how_it_works' %}" class="cv-nav-pill">{% trans "How it works" %}</a>
        <a href="{% url 'pricing' %}" class="cv-nav-pill">{% trans "Pricing" %}</a>
        <a href="{% url 'favorites' %}" class="cv-nav-pill">{% trans "Favorites" %}</a>
        <a href="#" id="cv-signin-open" class="cv-nav-pill">{% trans "Sign in" %}</a>
      </div>
    </div>

    {% block content %}{% endblock %}

    <!-- SIGN IN MODAL -->
    <div id="cv-auth-overlay" class="cv-auth-overlay">
      <div class="cv-auth-modal">
        <button class="cv-auth-close" id="cv-auth-close" aria-label="{% trans 'Close sign in' %}">×</button>

        <h2 class="cv-auth-title" id="cv-auth-title">{% trans "Sign in" %}</h2>
        <p class="cv-auth-subtitle" id="cv-auth-subtitle">
          {% trans "Come back to your AI-powered career space." %}
        </p>

        <div id="cv-auth-error" class="cv-auth-error" style="display: none;"></div>

        <form class="cv-auth-form" id="cv-auth-form">
          <label class="cv-auth-field">
            <span>{% trans "Username" %}</span>
            <input type="text" id="cv-auth-username" placeholder="{% trans 'username' %}" required>
          </label>

          <label class="cv-auth-field">
            <span>{% trans "Password" %}</span>
            <input type="password" id="cv-auth-password" placeholder="••••••••" required>
          </label>

          <button type="submit" class="cv-primary-btn cv-auth-submit" id="cv-auth-submit-btn">
            {% trans "Sign in" %}
          </button>
        </form>

        <div class="cv-auth-links">
          <button type="button" class="cv-link-like" id="cv-auth-toggle-mode">{% trans "Register" %}</button>
        </div>

        <p class="cv-auth-note">
          {% trans "JWT-based authentication with secure token storage." %}
        </p>
      </div>
    </div>

    <!-- FOOTER -->
    <footer class="cv-footer">
      © 2025 CareerVision · Project Work Edition
    </footer>

  </div>

  <!-- global login script -->
  <script src="{% static 'core/login.js' %}"></script>
  {% block extra_scripts %}{% endblock %}
</body>
</html>
